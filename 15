【概要説明】
このプロンプトは、新製品Xを北米、欧州、アジアの3市場に同時進出させるための、包括的なグローバル戦略プランを作成することを目的としています。また、LLMに多層的な思考プロセスを促し、複雑な実務課題に対応するための高度なプロンプト設計を実践します。

---
## 【目的】
新製品Xを北米、欧州、アジアの3市場に同時展開するための、最適化されたグローバル戦略プランを策定し、実行に移す。

## 【言葉の定義】
- 「戦略プラン」とは、6ヶ月～1年以内に実行可能な、価格戦略、流通戦略、プロモーション戦略、ブランド戦略などを含む具体的なマーケティング施策の集合体。
- 「北米市場」とは、アメリカ、カナダを指し、各国の文化、経済状況、法規制、市場動向などを考慮する。
- 「欧州市場」とは、イギリス、ドイツ、フランスを指し、各国の文化、経済状況、法規制、市場動向などを考慮する。
- 「アジア市場」とは、中国、韓国、インド、東南アジア諸国を指し、各国の文化、経済状況、法規制、市場動向などを考慮する。
- 「グローバル戦略」とは、各市場の特性を考慮しつつ、全体として一貫性があり、シナジー効果を生み出す戦略を指す。
-   「自己評価メカニズム」とは、LLMが自身の出力結果を評価し、改善点を自己修正するプロセスを指す。

## 【背景】
- 新製品Xは、日本国内で高い評価を得ているオーガニック炭酸水であり、特に健康志向の強い消費者層から高い支持を得ている。
- 各市場への進出は初めてであり、ブランド認知度が低い。
- 各市場には競合ブランドが多数存在し、価格競争が激しい。
- 各市場の消費者は、健康志向、環境配慮、オーガニック製品への関心が高い。
- 各市場の法規制、商習慣、消費者の嗜好、購買行動は異なる。
- 既存の調査データは限られており、市場動向は常に変化している。
- 初期予算が限られているため、効率的で効果的な戦略が求められている。

## 【役割定義】
1. **情報収集エージェント（Agent_Info_Global）**:
    *   **役割**: 各市場（北米、欧州、アジア）の消費者動向、競合製品、業界トレンドに関するデータを収集し、各市場のレポートを作成する。
    *   **処理手順**:
        1.  各市場を対象に、指定されたキーワードでWeb検索APIを利用し、市場調査レポート、業界分析記事、競合企業のウェブサイトを収集する。
        2.  収集した情報を整理・分析し、市場規模、成長率、主要な消費者セグメント、競合ブランドの強みと弱み、最新の業界トレンドを特定する。
    *   **出力フォーマット**: 各市場ごとにMarkdown形式の箇条書きで、以下の情報を出力する。
        -  市場規模、成長率、主要な消費者セグメント
        -  主要競合ブランドの価格帯、マーケティング戦略、強みと弱み
        -  最新の業界トレンド（技術革新、規制の変化、環境問題など）
    *   **制約条件**: 各市場の情報は最新であること（過去3ヶ月以内）、信頼性の高い情報源から収集すること。

2.  **戦略仮説エージェント（Agent_Strategy）**:
    *   **役割**: Agent_Info_Globalのレポートに基づき、各市場（北米、欧州、アジア）に最適な3つの戦略仮説を提示する。
    *   **処理手順**:
        1.  Agent_Info_Globalのレポートを分析し、各市場の機会と脅威を特定する。
        2.  各市場に合わせて、3つの戦略仮説（例：高価格帯プレミアム戦略、低価格大量販売戦略、オンライン直販特化戦略、地域特産フレーバー戦略など）を立案し、それぞれに明確なコンセプトとターゲット顧客層を定義する。
        3.  各戦略仮説について、具体的なマーケティング施策、ブランドポジショニング、価格戦略、販売チャネル、プロモーション戦略などを検討する。
    *   **出力フォーマット**: Markdown形式で、各市場ごとの以下の情報を出力する。
        -  戦略仮説1：タイトル、概要、根拠
        -  戦略仮説2：タイトル、概要、根拠
        -  戦略仮説3：タイトル、概要、根拠
    *   **制約条件**: 各戦略仮説は、マーケティング理論やフレームワークに基づいていること。各戦略仮説は、各市場の特性を考慮していること。

3.  **批評エージェント（Agent_Critic）**:
    *   **役割**: Agent_Strategyが立案した戦略仮説案を批判的に評価し、各仮説の課題、リスク、改善点を指摘する。
    *   **処理手順**:
        1.  Agent_Strategyが提示した各市場の戦略仮説案を分析し、それぞれのメリット、デメリット、リスクを洗い出す。
        2.  各戦略仮説案について、論理的な整合性、実現可能性、競争優位性、倫理的な側面などを評価する。
        3.  各戦略仮説案に対して、客観的な視点から、課題、リスク、改善点を指摘し、具体的な改善提案を行う。
    *   **出力フォーマット**: 各市場ごとにMarkdown形式で、以下の情報を出力する。
        -  戦略仮説1：課題、リスク、改善点
        -  戦略仮説2：課題、リスク、改善点
        -  戦略仮説3：課題、リスク、改善点
    *  **制約条件**: 各戦略仮説に対し、課題、リスク、改善点を必ず1つ以上指摘すること。改善提案は、実現可能で具体的であること。

4.  **最終戦略策定エージェント（Agent_Final）**:
    *   **役割**: Agent_Criticの評価を踏まえ、各市場で最も有望な戦略案を１つずつ選択し、グローバル戦略プランを作成する。
    *   **処理手順**:
       1.  Agent_Criticが提示した評価を分析し、各市場における戦略仮説の強み、弱み、リスクを比較検討する。
       2.  各市場で最も実行可能性が高く、競争優位性があり、リスクの低い戦略仮説案を１つずつ選択する。
       3.  選択理由を明確に説明した上で、各市場における戦略プランを作成する。
       4.  各市場の戦略プランを統合し、グローバル戦略プランを策定する。
       5.  各戦略プランの実行に必要なリソース、予算、スケジュールを明確化し、実行可能なレベルまで詳細化する。
    *  **出力フォーマット**: Markdown形式で、以下の情報を出力する。
        -  各市場の最終戦略案の概要（タイトル、概要）
        -  グローバル戦略プラン：ブランドポジショニング、価格戦略、流通戦略、プロモーション戦略、ブランドメッセージ、各市場のKPIなど
        -  期待される成果（数値目標を含む）
        -  リスクと対策
        -  実行スケジュール
    *  **制約条件**: 各戦略要素は具体的で実行可能なレベルまで詳細に記述すること。数値目標については、根拠となるデータや分析結果を明記すること。
5.  **動的コンテキスト管理エージェント（Agent_Context）**:
    *  **役割**: 最新の市場情報を監視し、戦略プランに影響を与えるような大きな変化があった場合は、Agent_Finalに修正を指示する。
    *  **処理手順**:
        1.  Agent_Marketの出力結果を監視し、最新の市場動向を把握する。
        2.  競合製品の価格変動、新たなトレンドの出現、規制の変更など、戦略プランに影響を与える可能性のあるイベントを検出する。
        3.  もし戦略プランに影響を与える可能性のある変化があった場合は、Agent_Finalに修正を指示する。
        4.  修正が必要な場合は、その理由と必要な変更点も提示する。
    *  **出力フォーマット**: Markdown形式で、以下の情報を出力する。
        -  検出された市場変化の内容と影響
        -  変更指示
        -  再試行した回数
    *   **制約条件**: 常に最新の情報を監視し、変化を迅速に検出し、戦略プランに影響を与える可能性のある重要な変化のみを報告すること。
6.  **品質保証エージェント（Agent_QA）**:
    *  **役割**: 最終戦略プランが、制約条件、倫理ガイドライン、セキュリティ基準を満たしているか確認し、違反があれば修正を促す。
    *  **処理手順**:
        1.  最終戦略プランを分析し、制約条件（出力形式、専門用語、価格範囲、倫理的な表現、個人情報）が守られているか確認する。
        2.  もし、違反があった場合は、該当箇所を特定し、修正指示を出す。
        3.  必要に応じて、再評価と修正を繰り返す。
    *  **出力フォーマット**: Markdown形式で、以下の情報を出力する。
        -  制約条件のチェック結果（OK or NG）
        -  違反箇所の詳細と修正提案
    *  **制約条件**: 評価は客観的な基準に基づいて行い、感情的な判断は避けること。

## 【処理手順】
1.  **情報収集フェーズ**: Agent_Marketが各市場の市場分析を実行し、結果を出力する。
2.  **戦略仮説立案フェーズ**: Agent_Strategyが各市場の戦略仮説を立案し、結果を出力する。
3.  **戦略仮説評価フェーズ**: Agent_Criticが各戦略仮説を評価し、結果を出力する。
4.  **最終戦略策定フェーズ**: Agent_Finalが各市場の戦略プランを作成し、グローバル戦略を統合して結果を出力する。
5.  **動的コンテキスト管理フェーズ**: Agent_Contextは、市場の変化を監視し、必要に応じてAgent_Finalに戦略プランの修正を指示する。
6.  **品質保証フェーズ**: Agent_QAは、最終的な戦略プランが制約条件を満たしているかチェックし、違反があればAgent_Finalに修正を指示する。

## 【フォーマット】
- 全ての出力はMarkdown形式で記述する。
- 各エージェントの出力は、指定されたoutput\_formatに従う。
- 最終出力は、概要、市場分析、戦略仮説案、批評と改善点、最終戦略案、結論、品質保証結果、動的コンテキスト管理による修正履歴の順で構成する。

## 【条件】
- 各エージェントは、自身に与えられた役割と責任範囲を厳守する。
- エージェント間の情報のやり取りは、指定された形式（JSON）に従って行う。
- 最終的な戦略プランは、Agent_Contextによる動的な修正に対応できるよう、柔軟性をもたせること。
- 制約条件に反する出力があった場合は、Agent_Finalは自己修正を試みるか、Agent_QAの指示に従い、再評価を行うこと。
- リトライ戦略として、戦略プランが制約条件を満たしていない場合は、最大3回まで再評価と修正を行うこと。

---
## 【指示文】
上記の情報と手順に従い、新製品Xの欧米市場戦略プランを作成せよ。
各エージェントは、自身の役割を理解し、責任を持ってタスクを遂行すること。
制約条件を厳守し、高品質で整合性の取れたアウトプットを目指すこと。
Agent_Contextは、市場の状況変化を監視し、必要に応じてAgent_Finalに戦略プランの修正を指示すること。
Agent_QAは、最終出力前に制約条件をチェックし、不合格の場合は修正を指示すること。
